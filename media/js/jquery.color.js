window.jQuery && jQuery(function(g,n){function o(a,b,d){if((b.empty||d)&&a==null)return null;if(b.def&&a==null)return b.def;b.type==="int"&&(a=~~a);b.mod&&(a=(a<0?a+b.mod*(1+~~(-a/b.mod)):a)%b.mod);b.type==="float"&&(a=parseFloat(a));if(g.isNaN(a))a=b.def;return b.min>a?b.min:b.max<a?b.max:a}function q(a,b,d){d=(d+1)%1;if(d*6<1)return a+(b-a)*6*d;if(d*2<1)return b;if(d*3<2)return a+(b-a)*(2/3-d)*6;return a}var t="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color outlineColor".split(" "), u=/^([\-+])=\s*(\d+\.?\d*)/,v=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/, parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(a){return[a[1],a[2]/100,a[3]/100,a[4]]}}],h=g.Color=function(a,b,d,c){return new g.Color.fn.parse(a,b,d,c)},i={rgba:{cache:"_rgba",props:{red:{idx:0,min:0,max:255,type:"int",empty:!0},green:{idx:1,min:0,max:255,type:"int",empty:!0},blue:{idx:2,min:0,max:255,type:"int", empty:!0},alpha:{idx:3,min:0,max:1,type:"float",def:1}}},hsla:{cache:"_hsla",props:{hue:{idx:0,mod:360,type:"int",empty:!0},saturation:{idx:1,min:0,max:1,type:"float",empty:!0},lightness:{idx:2,min:0,max:1,type:"float",empty:!0}}}},r=i.rgba.props,s=h.support={},p,j=g.each;i.hsla.props.alpha=r.alpha;h.fn=h.prototype={constructor:h,parse:function(a,b,d,c){if(a===n)return this._rgba=[null,null,null,null],this;if(a instanceof g||a.nodeType)a=a instanceof g?a.css(b):g(a).css(b),b=n;var e=this,f=g.type(a), k=this._rgba=[];b!==n&&(a=[a,b,d,c],f="array");if(f==="string"){a=a.toLowerCase();j(v,function(b,d){var c=d.re.exec(a),f=c&&d.parse(c),c=d.space||"rgba",g=i[c].cache;if(f)return f=e[c](f),c!="rgba"&&(e[g]=f[g]),k=e._rgba=f._rgba,!1});if(k.length!==0)return Math.max.apply(Math,k)===0&&$.extend(k,p.transparent),this;a=p[a]||p._default;return this.parse(a)}if(f==="array")return j(r,function(d,b){k[b.idx]=o(a[b.idx],b)}),this;if(f==="object")return a instanceof h?j(i,function(b,d){a[d.cache]&&(e[d.cache]= a[d.cache].slice())}):j(i,function(d,b){j(b.props,function(d,c){var f=b.cache;if(!e[f]&&b.to){if(a[d]==null||d==="alpha")return;e[f]=b.to(e._rgba)}e[f][c.idx]=o(a[d],c,!0)})}),this},is:function(a){var b=h(a),d=!0,c=this;j(i,function(a,f){var k=b[f.cache],g;k&&(g=c[f.cache]||f.to&&f.to(c._rgba)||[],j(f.props,function(a,b){if(k[b.idx]!=null)return d=k[b.idx]==g[b.idx]}));return d});return d},_space:function(){var a=[],b=this;j(i,function(d,c){b[c.cache]&&a.push(d)});return a.pop()},transition:function(a, b){var d=h(a),c=d._space(),e=i[c],f=this[e.cache]||e.to(this._rgba),g=f.slice(),d=d[e.cache];j(e.props,function(a,c){var e=f[c.idx],h=d[c.idx];h!==null&&(e===null?g[c.idx]=h:(c.mod&&(h-e>c.mod/2?e+=c.mod:e-h>c.mod/2&&(e-=c.mod)),g[c.idx]=o((h-e)*b+e,c)))});return this[c](g)},blend:function(a){if(this._rgba[3]===1)return this;var b=this._rgba.slice(),d=b.pop(),c=h(a)._rgba;return h(g.map(b,function(a,b){return(1-d)*c[b]+d*a}))},toRgbaString:function(){var a=g.map(this._rgba,function(a,d){return a== null?d>2?1:0:a});if(a[3]===1)a.length=3;return(a.length===3?"rgb(":"rgba(")+a.join(",")+")"},toHslaString:function(){var a=g.map(this.hsla(),function(a,d){a=a==null?d>2?1:0:a;if(d===1||d===2)a=Math.round(a*100)+"%";return a});if(a[3]===1)a.length=3;return(a.length===3?"hsl(":"hsla(")+a.join(",")+")"},toHexString:function(a){var b=this._rgba.slice();if(!a)b.length=3;return"#"+g.map(b,function(a,b){var e=(a*(b===3?255:1)).toString(16);return e.length===1?"0"+e:e.substr(0,2)}).join("")},toString:function(){if(this._rgba[3]=== 0)return"transparent";return this.toRgbaString()}};h.fn.parse.prototype=h.fn;i.hsla.to=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/255,d=a[1]/255,c=a[2]/255,a=a[3],e=Math.max(b,d,c),f=Math.min(b,d,c),g=e-f,h=e+f,l=h*0.5;return[Math.round(f===e?0:b===e?60*(d-c)/g+360:d===e?60*(c-b)/g+120:60*(b-d)/g+240)%360,l===0||l===1?l:l<=0.5?g/h:g/(2-h),l,a==null?1:a]};i.hsla.from=function(a){if(a[0]==null||a[1]==null||a[2]==null)return[null,null,null,a[3]];var b=a[0]/ 360,d=a[1],c=a[2],a=a[3],d=c<=0.5?c*(1+d):c+d-c*d,c=2*c-d;return[Math.round(q(c,d,b+1/3)*255),Math.round(q(c,d,b)*255),Math.round(q(c,d,b-1/3)*255),a]};j(i,function(a,b){var d=b.props,c=b.cache,e=b.to,f=b.from;h.fn[a]=function(a){e&&!this[c]&&(this[c]=e(this._rgba));if(a===n)return this[c].slice();var b=g.type(a),l=b==="array"||b==="object"?a:arguments,m=this[c].slice(),i;j(d,function(a,d){var c=l[b==="object"?a:d.idx];c==null&&(c=m[d.idx]);m[d.idx]=o(c,d)});return f?(i=h(f(m)),i[c]=m,i):h(m)};j(d, function(d,b){h.fn[d]||(h.fn[d]=function(c){var e=g.type(c),f=d==="alpha"?this._hsla?"hsla":"rgba":a,h=this[f](),i=h[b.idx];if(e==="undefined")return i;e==="function"&&(c=c.call(this,i),e=g.type(c));if(c==null&&b.empty)return this;e==="string"&&(e=u.exec(c))&&(c=i+parseFloat(e[2])*(e[1]==="+"?1:-1));h[b.idx]=c;return this[f](h)})})});j(t,function(a,b){g.cssHooks[b]={set:function(a,c){c=h(c);if(!s.rgba&&c._rgba[3]!==1){var e=b==="backgroundColor"?a.parentNode:a,f;do if(f=g.curCSS(e,"backgroundColor"), f!==""&&f!=="transparent")break;while((e=e.parentNode)&&e.style);c=c.blend(f||"_default")}c=c.toRgbaString();a.style[b]=c}};g.fx.step[b]=function(a){if(!a.colorInit)a.start=h(a.elem,b),a.end=h(a.end),a.colorInit=!0;g.cssHooks[b].set(a.elem,a.start.transition(a.end,a.pos))}});g(function(){var a=document.createElement("div").style;a.cssText="background-color:rgba(150,255,150,.5)";s.rgba=a.backgroundColor.indexOf("rgba")>-1});p=g.Color.names={aqua:"#00ffff",azure:"#f0ffff",beige:"#f5f5dc",black:"#000000", blue:"#0000ff",brown:"#a52a2a",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkviolet:"#9400d3",fuchsia:"#ff00ff",gold:"#ffd700",green:"#008000",indigo:"#4b0082",khaki:"#f0e68c",lightblue:"#add8e6",lightcyan:"#e0ffff",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightyellow:"#ffffe0",lime:"#00ff00", magenta:"#ff00ff",maroon:"#800000",navy:"#000080",olive:"#808000",orange:"#ffa500",pink:"#ffc0cb",purple:"#800080",violet:"#800080",red:"#ff0000",silver:"#c0c0c0",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}});
